!function(t,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var e={};n(e),t.SettingsManager=e}}(this,function(t){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return"function"==typeof t}function u(t){return null!==t&&"object"===r(t)&&!s(t)}function s(t){return Array.isArray(t)}function a(e,n){var t=s(n),o=t&&[]||{};return t?(e=e||[],o=o.concat(e),n.forEach(function(t,n){void 0===o[n]?o[n]=t:"object"===r(t)?o[n]=a(e[n],t):-1===e.indexOf(t)&&o.push(t)})):(u(e)&&Object.keys(e||{}).forEach(function(t){o[t]=e[t]}),Object.keys(n||{}).forEach(function(t){u(n[t])&&n[t]&&e[t]?o[t]=a(e[t],n[t]):o[t]=n[t]})),o}function f(t,n,e){return c(t)?t.apply(e||{},n):null}function l(e,o,i){return c(e)?new Promise(function(t,n){setTimeout(function(){try{t(e.apply(i||{},o))}catch(t){n(t)}})}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=c,t.isObject=u,t.isArray=s,t.merge=a,t.execute=f,t.executeAsync=l,t.SettingsManager=t.InMemoryStore=void 0;var y=function(){function t(){e(this,t),this.settings={}}return i(t,[{key:"load",value:function(t){l(t,[a({},this.settings)])}},{key:"save",value:function(t,n){this.settings=a(this.settings,t),l(n,[a({},this.settings)])}},{key:"clear",value:function(t){this.settings={},l(t,[{}])}}]),t}();t.InMemoryStore=y;var n=function(){function n(t){e(this,n),this.backingStore=t||new y}return i(n,[{key:"load",value:function(n,t){this.backingStore.load(function(t){f(n,[t],this.backingStore)},t)}},{key:"save",value:function(t,n,e){t?u(t)?f(this.backingStore.save,[t,n,e],this.backingStore):l(e,['"settings" is not an object']):l(n,[{}])}},{key:"clear",value:function(t,n){l(this.backingStore.clear,[t,n],this.backingStore)}}]),n}();t.SettingsManager=n});